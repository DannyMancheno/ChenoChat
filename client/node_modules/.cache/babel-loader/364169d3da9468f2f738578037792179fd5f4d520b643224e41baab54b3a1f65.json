{"ast":null,"code":"// Authentication\n\nexport function requestAPI(method, url, data = {}, successfulStatus) {\n  return new Promise((resolve, reject) => {\n    let request = new XMLHttpRequest();\n\n    // Once the readyState 4 is reached, if the final status expected was recieved \n    // e.g. 200 = OK, 201 = Created, 404 = Not Found, then resolve the promise. Else reject. \n    request.onreadystatechange = () => {\n      if (request.readyState === 4) {\n        if (request.status === successfulStatus) {\n          resolve(request.responseText);\n        } else {\n          reject(request.responseText);\n        }\n      }\n    };\n    // Boiler plate code below, to send data if necessary \n    request.open(method, url, true);\n    request.setRequestHeader('Content-Type', 'application/json');\n    request.send(JSON.stringify(data));\n  });\n}\nexport function requestAPIHandler(container, response, success) {\n  console.log('requestAPIHandler', success);\n  if (success) {\n    let responseNode = document.createElement('div ');\n    responseNode.innerHTML = `\n            ${getSVGImage('checkmark')}\n            <div className='auth-api-response-text'>${response}</div>\n        `;\n    console.log(responseNode);\n    // document.getElementById(container).appendChild(responseNode);\n  }\n}\nexport function getSVGImage(image) {\n  if (image == 'delete') {\n    return `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 86.03 126.83\"><path d=\"M78.34,9.94H60.46a7.48,7.48,0,0,0,.28-2A7.69,7.69,0,0,0,53.05.29H33A7.69,7.69,0,0,0,25.29,8a7.48,7.48,0,0,0,.28,2H7.69a7.69,7.69,0,0,0,0,15.38H78.34a7.69,7.69,0,0,0,0-15.38Z\" transform=\"translate(0 -0.29)\"/><path d=\"M76.44,31.9H9.6a8.33,8.33,0,0,0-8.33,8.33V118.8a8.32,8.32,0,0,0,8.33,8.32H76.44a8.32,8.32,0,0,0,8.32-8.32V40.23A8.33,8.33,0,0,0,76.44,31.9Zm-53.12,74a4.6,4.6,0,0,1-9.19,0V47.25a4.6,4.6,0,1,1,9.19,0Zm24.29,0a4.6,4.6,0,0,1-9.19,0V47.25a4.6,4.6,0,1,1,9.19,0Zm24.3-.78a4.6,4.6,0,0,1-9.19,0V46.47a4.6,4.6,0,1,1,9.19,0Z\" transform=\"translate(0 -0.29)\"/></svg>`;\n  } else if (image == 'checkmark') {\n    return `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 142.84 127.06\"><path d=\"M649.74-6552.42h0a12,12,0,0,1,2.57,16.8l-74.58,101.5a15.75,15.75,0,0,1-22,3.37l-39-28.66a12,12,0,0,1-2.57-16.8h0a12,12,0,0,1,16.8-2.56L563.27-6455l69.67-94.83A12,12,0,0,1,649.74-6552.42Z\" transform=\"translate(-511.81 6554.75)\"/></svg>`;\n  } else {\n    console.error('Error - Did not specify SVG return symbol');\n  }\n}","map":{"version":3,"names":["requestAPI","method","url","data","successfulStatus","Promise","resolve","reject","request","XMLHttpRequest","onreadystatechange","readyState","status","responseText","open","setRequestHeader","send","JSON","stringify","requestAPIHandler","container","response","success","console","log","responseNode","document","createElement","innerHTML","getSVGImage","image","error"],"sources":["C:/Users/danny/Documents/HTML/ChenoChat/client/src/Components/SharedFunctions/Requests.js"],"sourcesContent":["// Authentication\r\n\r\nexport function requestAPI(method, url, data = {}, successfulStatus){\r\n    return new Promise((resolve, reject)=>{\r\n        let request = new XMLHttpRequest();\r\n\r\n        // Once the readyState 4 is reached, if the final status expected was recieved \r\n        // e.g. 200 = OK, 201 = Created, 404 = Not Found, then resolve the promise. Else reject. \r\n        request.onreadystatechange = ()=>{\r\n            if(request.readyState === 4){\r\n                if(request.status === successfulStatus){\r\n                    resolve(request.responseText);\r\n                }\r\n                else{\r\n                    reject(request.responseText);\r\n                }\r\n            }\r\n        }\r\n        // Boiler plate code below, to send data if necessary \r\n        request.open(method, url, true);\r\n        request.setRequestHeader('Content-Type', 'application/json');\r\n        request.send(JSON.stringify(data));\r\n    })\r\n}\r\n\r\n\r\nexport function requestAPIHandler(container, response, success){\r\n    console.log('requestAPIHandler', success);\r\n    if(success){\r\n        let responseNode = document.createElement('div ');\r\n        responseNode.innerHTML = \r\n        `\r\n            ${getSVGImage('checkmark')}\r\n            <div className='auth-api-response-text'>${response}</div>\r\n        `\r\n        console.log(responseNode);\r\n        // document.getElementById(container).appendChild(responseNode);\r\n    }\r\n}\r\n\r\nexport function getSVGImage(image){\r\n    if(image == 'delete'){ return `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 86.03 126.83\"><path d=\"M78.34,9.94H60.46a7.48,7.48,0,0,0,.28-2A7.69,7.69,0,0,0,53.05.29H33A7.69,7.69,0,0,0,25.29,8a7.48,7.48,0,0,0,.28,2H7.69a7.69,7.69,0,0,0,0,15.38H78.34a7.69,7.69,0,0,0,0-15.38Z\" transform=\"translate(0 -0.29)\"/><path d=\"M76.44,31.9H9.6a8.33,8.33,0,0,0-8.33,8.33V118.8a8.32,8.32,0,0,0,8.33,8.32H76.44a8.32,8.32,0,0,0,8.32-8.32V40.23A8.33,8.33,0,0,0,76.44,31.9Zm-53.12,74a4.6,4.6,0,0,1-9.19,0V47.25a4.6,4.6,0,1,1,9.19,0Zm24.29,0a4.6,4.6,0,0,1-9.19,0V47.25a4.6,4.6,0,1,1,9.19,0Zm24.3-.78a4.6,4.6,0,0,1-9.19,0V46.47a4.6,4.6,0,1,1,9.19,0Z\" transform=\"translate(0 -0.29)\"/></svg>`}\r\n    else if(image == 'checkmark'){ return `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 142.84 127.06\"><path d=\"M649.74-6552.42h0a12,12,0,0,1,2.57,16.8l-74.58,101.5a15.75,15.75,0,0,1-22,3.37l-39-28.66a12,12,0,0,1-2.57-16.8h0a12,12,0,0,1,16.8-2.56L563.27-6455l69.67-94.83A12,12,0,0,1,649.74-6552.42Z\" transform=\"translate(-511.81 6554.75)\"/></svg>`}\r\n    else{\r\n        console.error('Error - Did not specify SVG return symbol');\r\n    }\r\n}\r\n"],"mappings":"AAAA;;AAEA,OAAO,SAASA,UAAUA,CAACC,MAAM,EAAEC,GAAG,EAAEC,IAAI,GAAG,CAAC,CAAC,EAAEC,gBAAgB,EAAC;EAChE,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAG;IAClC,IAAIC,OAAO,GAAG,IAAIC,cAAc,CAAC,CAAC;;IAElC;IACA;IACAD,OAAO,CAACE,kBAAkB,GAAG,MAAI;MAC7B,IAAGF,OAAO,CAACG,UAAU,KAAK,CAAC,EAAC;QACxB,IAAGH,OAAO,CAACI,MAAM,KAAKR,gBAAgB,EAAC;UACnCE,OAAO,CAACE,OAAO,CAACK,YAAY,CAAC;QACjC,CAAC,MACG;UACAN,MAAM,CAACC,OAAO,CAACK,YAAY,CAAC;QAChC;MACJ;IACJ,CAAC;IACD;IACAL,OAAO,CAACM,IAAI,CAACb,MAAM,EAAEC,GAAG,EAAE,IAAI,CAAC;IAC/BM,OAAO,CAACO,gBAAgB,CAAC,cAAc,EAAE,kBAAkB,CAAC;IAC5DP,OAAO,CAACQ,IAAI,CAACC,IAAI,CAACC,SAAS,CAACf,IAAI,CAAC,CAAC;EACtC,CAAC,CAAC;AACN;AAGA,OAAO,SAASgB,iBAAiBA,CAACC,SAAS,EAAEC,QAAQ,EAAEC,OAAO,EAAC;EAC3DC,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEF,OAAO,CAAC;EACzC,IAAGA,OAAO,EAAC;IACP,IAAIG,YAAY,GAAGC,QAAQ,CAACC,aAAa,CAAC,MAAM,CAAC;IACjDF,YAAY,CAACG,SAAS,GACrB;AACT,cAAcC,WAAW,CAAC,WAAW,CAAE;AACvC,sDAAsDR,QAAS;AAC/D,SAAS;IACDE,OAAO,CAACC,GAAG,CAACC,YAAY,CAAC;IACzB;EACJ;AACJ;AAEA,OAAO,SAASI,WAAWA,CAACC,KAAK,EAAC;EAC9B,IAAGA,KAAK,IAAI,QAAQ,EAAC;IAAE,OAAQ,uoBAAsoB;EAAA,CAAC,MACjqB,IAAGA,KAAK,IAAI,WAAW,EAAC;IAAE,OAAQ,yTAAwT;EAAA,CAAC,MAC5V;IACAP,OAAO,CAACQ,KAAK,CAAC,2CAA2C,CAAC;EAC9D;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}